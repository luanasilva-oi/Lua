<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil Privado</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- SCRIPT DE VERIFICA√á√ÉO DE IDADE -->
    <!-- Este script redireciona usu√°rios n√£o verificados antes que a p√°gina seja renderizada -->
    <script>
        if (localStorage.getItem('age_ok') !== '1') {
            window.location.href = "index.html"; // Altere para a sua p√°gina de verifica√ß√£o
        }
    </script>
</head>
<body class="dark">

    <main class="profile-container">
        
        <!-- CABE√áALHO DO PERFIL -->
        <header class="profile-header">
            <div class="profile-banner"></div>
            <img src="./assets/avatar.jpg" class="avatar" alt="Foto de perfil de Luana Silva">
            <h1>Luana Silva</h1>
            <span class="status">üü¢ Dispon√≠vel agora</span>
            <p class="bio">Perfil privado com acesso restrito.</p>
        </header>

        <!-- SE√á√ÉO DE CONTADORES E STATUS -->
        <section id="status-section">
            <div id="daily-access">
                üî• <strong id="access-count">37</strong> acessos hoje
            </div>
            <div id="online-users">
                üü¢ <strong id="online-count">12</strong> pessoas online agora
            </div>
        </section>

        <!-- SE√á√ÉO DE PR√âVIAS DE CONTE√öDO -->
        <section id="content-previews">
            <h2 class="section-title">Conte√∫do Bloqueado üîí</h2>
            <div class="preview-grid">
                <div class="preview-card locked" onclick="window.location.href='https://pay.kiwify.com.br/OCvaqhO'">
                    <video autoplay loop muted playsinline>
                        <source src="assets/preview1.mp4" type="video/mp4">
                    </video>
                    <span>üîí Ver completo</span>
                </div>
                <div class="preview-card locked" onclick="window.location.href='https://pay.kiwify.com.br/OCvaqhO'">
                    <video autoplay loop muted playsinline>
                        <source src="assets/preview2.mp4" type="video/mp4">
                    </video>
                    <span>üîí Ver completo</span>
                </div>
                <div class="preview-card locked" onclick="window.location.href='https://pay.kiwify.com.br/OCvaqhO'">
                    <video autoplay loop muted playsinline>
                        <source src="assets/preview3.mp4" type="video/mp4">
                    </video>
                    <span>üîí Ver completo</span>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO DE PLANOS E PRE√áOS -->
        <section id="pricing-plans">
            <h2 class="section-title">Escolha seu acesso</h2>
            <div class="plans-grid">
                <!-- PLANO B√ÅSICO -->
                <div class="plan-card basic">
                    <h3>Acesso Essencial</h3>
                    <p class="plan-desc">Sele√ß√£o exclusiva de conte√∫dos</p>
                    <div class="price">R$ 19,99</div>
                    <a class="plan-btn basic" href="https://pay.kiwify.com.br/LZ692NX">Liberar Acesso</a>
                </div>
                
                <!-- PLANO COMPLETO -->
                <div class="plan-card complete featured">
                    <div class="badge">Mais escolhido</div>
                    <h3>Acesso Completo ‚≠ê</h3>
                    <p class="plan-desc">Biblioteca completa + atualiza√ß√µes</p>
                    <div class="price">R$ 29,90</div>
                    <a class="plan-btn complete" href="https://pay.kiwify.com.br/OCvaqhO">Acessar Agora</a>
                </div>
            </div>
            <p class="meta-note">A maioria dos usu√°rios escolhe o acesso completo.</p>
        </section>

    </main>

    <!-- ELEMENTO DE NOTIFICA√á√ÉO (TOAST) -->
    <!-- Fica fora do <main> pois √© um elemento sobreposto -->
    <div id="purchase-toast"></div>

    <!-- JAVASCRIPT -->
    <script>
        // Garante que o script s√≥ execute ap√≥s o carregamento completo do DOM
        document.addEventListener('DOMContentLoaded', () => {

            // --- ELEMENTOS DO DOM ---
            const onlineCountEl = document.getElementById("online-count");
            const accessCountEl = document.getElementById("access-count");
            const purchaseToastEl = document.getElementById("purchase-toast");

            // --- FUNCIONALIDADES DIN√ÇMICAS ---

            /**
             * Atualiza o contador de usu√°rios online com um valor aleat√≥rio.
             */
            function updateOnlineUsers() {
                const minUsers = 8;
                const maxUsers = 14;
                const randomUsers = Math.floor(Math.random() * (maxUsers - minUsers + 1)) + minUsers;
                onlineCountEl.innerText = randomUsers;
            }
            // Executa a fun√ß√£o a cada 6 segundos
            setInterval(updateOnlineUsers, 6000);
            updateOnlineUsers(); // Executa uma vez imediatamente

            /**
             * Inicializa o contador de acessos di√°rios.
             * Usa o localStorage para persistir a contagem durante o dia.
             */
            function initializeDailyAccess() {
                const today = new Date().toDateString();
                const storedDay = localStorage.getItem("access_day");

                if (storedDay !== today) {
                    // Se for um novo dia, redefine o contador
                    const minAccess = 25;
                    const maxAccess = 55;
                    const randomAccess = Math.floor(Math.random() * (maxAccess - minAccess + 1)) + minAccess;
                    
                    localStorage.setItem("access_day", today);
                    localStorage.setItem("access_count", randomAccess);
                }
                accessCountEl.innerText = localStorage.getItem("access_count");
            }
            initializeDailyAccess();

            /**
             * Exibe uma notifica√ß√£o toast de compra falsa.
             */
            function showFakePurchase() {
                const names = ["Henrique", "Gustavo", "Mateus", "Lucas", "Rafael", "Bruno", "Diego", "Felipe"];
                const plans = [
                    { name: "Plano Essencial", type: "basic" },
                    { name: "Plano Completo", type: "complete" }
                ];

                const randomName = names[Math.floor(Math.random() * names.length)];
                const randomPlan = plans[Math.floor(Math.random() * plans.length)];

                // Adiciona a classe e o conte√∫do para exibir o toast
                purchaseToastEl.className = `show ${randomPlan.type}`;
                purchaseToastEl.innerHTML = `<strong>${randomName}</strong> comprou<br><span>${randomPlan.name}</span>`;

                // Remove o toast ap√≥s 4 segundos
                setTimeout(() => {
                    purchaseToastEl.className = "";
                }, 4000);
            }

            /**
             * Inicia o loop de notifica√ß√µes de compra em intervalos aleat√≥rios.
             */
            function startFakePurchaseNotifications() {
                function scheduleNextNotification() {
                    const interval = Math.random() * 6000 + 7000; // Intervalo entre 7 e 13 segundos
                    setTimeout(() => {
                        showFakePurchase();
                        scheduleNextNotification(); // Agenda a pr√≥xima notifica√ß√£o
                    }, interval);
                }
                scheduleNextNotification(); // Inicia o processo
            }
            startFakePurchaseNotifications();

        });
    </script>
</body>
</html>
